apply plugin: "java"
apply plugin: "war"
apply plugin: "jetty"

apply from: file("gradle/misc.gradle")

jettyRun.contextPath = jettyRunWar.contextPath = ""

sourceCompatibility = targetCompatibility = 1.8

tasks.withType(AbstractCompile) each {
  it.options.encoding = "UTF-8"
}

repositories {
  mavenCentral()
  maven {
    url "http://repository.jboss.org/nexus/content/groups/public"
  }
}

dependencies {
  def resteasy = "3.0.8.Final"
  compile "org.slf4j:slf4j-simple:1.7.7"
  ["jaxrs", "jackson-provider", "servlet-initializer"].each {
    compile ("org.jboss.resteasy:resteasy-$it:$resteasy") {
      exclude group: "org.slf4j"
    }
  }
  providedCompile "javax.servlet:javax.servlet-api:3.1.0"
  testCompile "junit:junit:4.+"
  testCompile ("org.jboss.resteasy:resteasy-client:$resteasy")
  testCompile ("org.jboss.resteasy:tjws:$resteasy") {
    exclude group: "javax.servlet"
  }

}